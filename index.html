<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checklist RPG: HTML + CSS + JS</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(180deg, #0f2027, #203a43, #2c5364);
      color: #f0f0f0;
      font-family: 'Segoe UI', sans-serif;
      padding: 2rem;
      max-width: 700px;
      margin: auto;
      background-size: 400% 400%;
      animation: bgAnim 20s ease infinite;
    }
    @keyframes bgAnim {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    h1, h2 {
      text-align: center;
      color: #00ffcc;
    }
    .hidden {
      display: none;
    }
    .phase {
      background: #292929cc;
      border: 2px solid #444;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 2rem;
    }
    label {
      display: block;
      margin: 0.5rem 0;
    }
    input[type="checkbox"] {
      transform: scale(1.2);
      margin-right: 0.7rem;
    }
    #xpDisplay {
      background: #111;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      font-size: 1.2rem;
      color: #0f0;
      margin-bottom: 2rem;
    }
    #loginForm {
      text-align: center;
      margin-bottom: 2rem;
    }
    #loginForm input {
      padding: 0.5rem;
      margin: 0.5rem;
      border-radius: 5px;
      border: none;
    }
    #loginForm button, #finishBtn {
      padding: 0.5rem 1rem;
      background: #00ff88;
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 1rem;
    }
    #congratsMessage {
      background: #006622cc;
      border-radius: 10px;
      padding: 1.5rem;
      margin-top: 2rem;
      font-size: 1.5rem;
      color: #bfff00;
      text-align: center;
      font-weight: bold;
      display: none;
    }
  </style>
</head>
<body>
  <div id="loginSection">
    <h1>üîê RPG Checklist Login</h1>
    <form id="loginForm">
      <input type="text" id="username" placeholder="Nome de usu√°rio" required />
      <input type="password" id="password" placeholder="Senha" required />
      <button type="submit">Entrar</button>
    </form>
  </div>

  <div id="gameSection" class="hidden">
    <h1>üìò Jornada RPG: Estudo HTML + CSS + JS</h1>
    <div id="xpDisplay">XP Atual: 0</div>

    <div class="phase">
      <h2>üìó Fase 1: HTML Essencial</h2>
      <label><input type="checkbox" data-xp="5" /> Estrutura b√°sica do HTML</label>
      <label><input type="checkbox" data-xp="5" /> Tags sem√¢nticas (header, main, footer)</label>
      <label><input type="checkbox" data-xp="5" /> Listas, tabelas e imagens</label>
      <label><input type="checkbox" data-xp="5" /> Formul√°rios e inputs</label>
      <label><input type="checkbox" data-xp="15" /> Projeto: P√°gina de perfil</label>
    </div>

    <div class="phase">
      <h2>üé® Fase 2: CSS Intermedi√°rio</h2>
      <label><input type="checkbox" data-xp="5" /> Flexbox Layout</label>
      <label><input type="checkbox" data-xp="5" /> Grid Layout</label>
      <label><input type="checkbox" data-xp="5" /> Media Queries</label>
      <label><input type="checkbox" data-xp="5" /> Transi√ß√µes e Anima√ß√µes</label>
      <label><input type="checkbox" data-xp="5" /> Vari√°veis CSS</label>
      <label><input type="checkbox" data-xp="15" /> Projeto: Site Responsivo</label>
    </div>

    <div class="phase">
      <h2>üíª Fase 3: JavaScript Essencial</h2>
      <label><input type="checkbox" data-xp="5" /> Vari√°veis e tipos de dados</label>
      <label><input type="checkbox" data-xp="5" /> Condicionais e loops</label>
      <label><input type="checkbox" data-xp="5" /> Fun√ß√µes</label>
      <label><input type="checkbox" data-xp="5" /> Arrays e objetos</label>
      <label><input type="checkbox" data-xp="5" /> Manipula√ß√£o de DOM</label>
      <label><input type="checkbox" data-xp="15" /> Projeto: To-do List</label>
    </div>

    <div class="phase">
      <h2>üöÄ Fase 4: JavaScript Avan√ßado</h2>
      <label><input type="checkbox" data-xp="5" /> map, filter, reduce</label>
      <label><input type="checkbox" data-xp="5" /> Promises e async/await</label>
      <label><input type="checkbox" data-xp="5" /> Fetch API</label>
      <label><input type="checkbox" data-xp="5" /> LocalStorage</label>
      <label><input type="checkbox" data-xp="15" /> Projeto: App de Clima</label>
    </div>

    <button id="finishBtn">üéâ Finalizar Jornada</button>

    <div id="congratsMessage">
      üéâ Parab√©ns, Her√≥i do C√≥digo! Voc√™ concluiu toda a jornada de estudos em HTML, CSS e JavaScript!
    </div>
  </div>

  <script>
    const loginForm = document.getElementById('loginForm');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const loginSection = document.getElementById('loginSection');
    const gameSection = document.getElementById('gameSection');
    const xpDisplay = document.getElementById('xpDisplay');
    const finishBtn = document.getElementById('finishBtn');
    const congratsMessage = document.getElementById('congratsMessage');

    let checkboxes;
    let totalXP = 0;
    let user = null;

    function loadProgress() {
      const saved = localStorage.getItem(`rpgChecklist_${user}`);
      if (saved) {
        const data = JSON.parse(saved);
        totalXP = data.totalXP || 0;
        xpDisplay.textContent = `XP Atual: ${totalXP}`;
        checkboxes.forEach((box, index) => {
          box.checked = data.checked[index];
        });
      }
    }

    function saveProgress() {
      const checked = Array.from(checkboxes).map(box => box.checked);
      const data = {
        totalXP,
        checked
      };
      localStorage.setItem(`rpgChecklist_${user}`, JSON.stringify(data));
    }

    function initChecklist() {
      checkboxes = document.querySelectorAll('input[type="checkbox"]');
      checkboxes.forEach((checkbox) => {
        checkbox.addEventListener('change', () => {
          const xp = parseInt(checkbox.dataset.xp);
          if (checkbox.checked) totalXP += xp;
          else totalXP -= xp;
          xpDisplay.textContent = `XP Atual: ${totalXP}`;
          saveProgress();
        });
      });
      loadProgress();
    }

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      user = usernameInput.value.trim();
      const password = passwordInput.value.trim();
      const existing = localStorage.getItem(`user_${user}`);

      if (!existing) {
        localStorage.setItem(`user_${user}`, password);
        loginSection.classList.add('hidden');
        gameSection.classList.remove('hidden');
        initChecklist();
      } else if (existing === password) {
        loginSection.classList.add('hidden');
        gameSection.classList.remove('hidden');
        initChecklist();
      } else {
        alert('Senha incorreta!');
      }
    });

    finishBtn.addEventListener('click', () => {
      const allChecked = Array.from(document.querySelectorAll('input[type="checkbox"]')).every(cb => cb.checked);
      if (allChecked) {
        congratsMessage.style.display = 'block';
        finishBtn.style.display = 'none';
      } else {
        alert('Complete todos os itens antes de finalizar!');
      }
    });
  </script>
</body>
</html>
